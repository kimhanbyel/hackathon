{% extends "index.html" %}

{% block mid %}
<div class="m-20 space-y-12">
    <div class="border-b border-gray-900/10 pb-12">
        <div class="flex justify-center">
                {% if info.img %}
                <img class="h-40 w-40 rounded-full bg-gray-50" src="/static/{{info.img}}">
                {% else %}
                <img class="h-40 w-40 rounded-full bg-gray-50" src="/static/basicUserImg.png">
                {% endif %}
            </div>
            <div>
                <h2 class="mt-6 text-center text-3xl font-semibold leading-7 text-gray-900">{{info.nick}}</h2>
                {% if info.about %}
                    <p class="mt-1 text-center text-sm leading-6 text-gray-600">{{info.about}}</p>
                {% else %}
                    <p class="mt-1 text-center text-sm leading-6 text-gray-600">( 설명이 없습니다 )</p>
                {% endif %}
            </div>
            <div class="flex justify-center"><button onclick="location.href='/blog/blog_list/{{params}}'" class="w-50 mt-10 rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-offset-2 focus-visible:outline-indigo-600">블로그로 돌아가기</button></div>
            <div class="mt-5 border-b border-gray-900/10 text-center">모든 글</div>
            <div class="flex flex-col items-center">
                {% for post in posts %}
                    <a href="/blog/post/{{post.idposts}}">
                        <li class="flex justify-between gap-x-6 pt-10">
                            <div class="flex gap-x-4">
                                {% if post.img %}
                                    <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="/static/{{post.img}}" alt="">
                                {% else %}
                                    <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="/static/basicPostImg.png" alt="">
                                {% endif %}
                                <div class="min-w-0 flex-auto">
                                    <p style="text-overflow: ellipsis" class="w-96 text-xl font-semibold leading-6 text-gray-900">{{post.title}}</p>
                                    <p style="text-overflow: ellipsis" class="w-96 mt-1 truncate text-m leading-5 text-gray-500">{{post.content}}</p>
                                </div>
                            </div>
                            <div class="hidden sm:flex sm:flex-col sm:items-end">
                                <p class="w-20 text-sm leading-5 text-gray-500">💬{{post.commentCnt}}</p>
                                <p class="w-20 text-sm leading-5 text-gray-500">👁{{post.views}}</p>
                                <p class="w-20 mt-1 text-s leading-5 text-gray-900">{{post.writer}}</p>
                            </div>
                        </li>
                    </a>
                    <div class="bg-gray-700 w-auto h-0"></div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
<script>
    document.title = "{{info.nick}}의 글 목록"
</script>
{% endblock %}