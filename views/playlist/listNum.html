{% extends "index.html" %}
{% block mid %} 
  <div class="mt-10 flex justify-center">
    {% if playlist.img %}
    <img class="h-40 w-40 rounded-full bg-gray-50" src="/static/{{playlist.img}}">
    {% else %}
    <img class="h-40 w-40 rounded-full bg-gray-50" src="/static/basicMusicImg.png">
    {% endif %}
  </div>
  <div class="mb-5 mt-2">
    <p class="mt-1 text-center text-3xl leading-6 text-gray-900">{{playlist.title}}</p>
    <p class="mt-1 text-center text-sm leading-6 text-gray-600">{{playlist.maker}}</p>
    {% if playlist.maker == user.nick %}
      <div class="flex justify-center flex-col">
        <button onclick="location.href='/playlist/{{params}}/insert'" class="w-30 rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">노래 추가하기</button>
        <button onclick="location.href='/playlist/{{params}}/delete'" class="w-30 mt-2 mb-2 rounded-md bg-red-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">플레이리스트 삭제하기</button>
      </div>
    {% endif %}
    <p class="mt-3 text-center text-3xl leading-6 text-gray-600">👁 {{playlist.views}}</p>
  </div>
  <hr>
  <ul class="flex flex-col justify-center items-center w-full">
    {% if songs.length > 0 %}
      {% for song in songs %}
        <p class="mt-20 text-2xl">{{song.title}}</p>
        <li class="flex flex-col w-auto gap-x-6 py-3">
          <iframe width="720" height="480" src="https://www.youtube.com/embed/{{song.link}}" allow="accelerometer; autoplay=0; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </li>
      <div class="bg-gray-700 w-auto h-0"></div>
      {% endfor %}
    {% else %}
      <p>노래가 존재하지 않습니다.</p>
    {% endif %}
  </ul>

  <script>
    document.title = "{{playlist.maker}}의 {{playlist.title}}"
  </script>
{% endblock %}
